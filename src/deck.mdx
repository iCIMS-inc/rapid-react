import { Head, Appear, Code, Notes, Image } from 'mdx-deck'
import { Invert, Split , SplitRight } from 'mdx-deck/layouts'
import { CodeSurfer, components } from 'mdx-deck-code-surfer'
import { default as mdxTheme } from 'mdx-deck/themes'
import nightOwl from 'prism-react-renderer/themes/nightOwl'

export const theme = {
  ...mdxTheme,
  codeSurfer: {
    ...nightOwl,
    showNumbers: true
  }
}
export { components } from "mdx-deck-code-surfer"

<Head>
  <title>iCIMS - Building Front-End Applications, Rapidly</title>
</Head>

export default Invert

# Building Front-End Applications, Rapidly
## Parish & Carlos
## iCIMS Labs

---

export default Split

<div>
  <h2>Carlos</h2>
  <img src="https://render.bitstrips.com/v2/cpanel/096dffe0-3934-41db-842c-34c180d0615c-759c69da-b3bd-4af6-bd4b-23eceee9c279-v1.png?transparent=1&palette=1" />
</div>

<div>
  <h2>Parish</h2>
  <img src="https://render.bitstrips.com/v2/cpanel/76c3b171-f0cf-4dd6-b91f-91bd86693f61-e1ae95ae-4b2f-4ac6-9d33-5a18e98dac9d-v1.png?transparent=1&palette=1" />
</div>

---

## Agenda

- What is React
- Intro to JSX
- Hands on, create a simple component
- 3rd Party Components
- Hands on, create-react-app 
- Hands on, using a 3rd party component (Material UI)

<small>Prerecquisits: Javascript, HTML, CSS &amp; Node.js</small>
---

## Objectives and Expectations

- Upon completing this workshop, you will:
  - Have an understanding of React
  - How to create simple React components
  - How to use 3rd party React components
  - Build a simple ToDo app using `create-react-app`

---

export default Invert

## ReactJS

---

## What is React?

- A Javascript library for building user interfaces
- The V in M**V**C
- VirtualDOM
- Component based (components on components on components!)
- Key terms: Components, Props, State

---

## JSX

- Javascript + XML
- Extension of ES6
- HTML with some modifications
  - `className` instead of `class`
  - `children` prop
- Easier to read &amp; write

---
```javascript Using Javascript
function Hello(props) {
  return React.createElement(
    'div',
    { style: { fontSize: '20px' }, className: 'wrapper' },
    `Hello ${props.toWho}!`
  );
}

ReactDOM.render(
  React.createElement(Hello, {toWho: 'World'}, null),
  document.getElementById('root')
);

----
1:7 > 
2[3:5] > React.createElement(elements||Component, props, ...children);
3 > Using a 'div' element
4 > Props (inline style and a className)
5 > Children (whats's inside of your HTML tag)
9:12 > <div class="wrapper" style="font-size: 20px">Hello World</div>
```

---
```javascript With JSX
function Hello(props) {
  return <div className="wrapper" style={{fontSize: '20px'}}>Hello {this.props.toWho}!</div>;
}

ReactDOM.render(
  <Hello toWho="World" />,
  document.getElementById('root')
);
----
1:3 > 
2 > Familiar, looks just like HTML
6 > Easier to use and define props, children, etc.
5:8 > <div class="wrapper" style="font-size: 20px">Hello World</div>
```
---

## Reusing Components

<img src="./hour-one/component-search.jpg" style={{width: '80%', height: 'auto'}} />

---

# Let's build a todo list!

1. Create a react project
2. Adding a basic list
3. Add state and controls
4. Make our todo list responsive
5. Ways to take your app further

---

# create-react-app

- Written by facebook for learning react
- Generates a full react project with a single command
-   Serious time saver
  - Lots of tooling is configured for you
  - Hot-reloading dev server

---

  # Generating a project

  `npx create-react-app rapid-react-todo`

- Open in VS Code
- Open terminal (ctrl + `)
- Execute the dev server with `npm start`

---
# The app will look like this
<img src="./hour-two/CRA-start.png" />
---
# The project structure will look like this
<img src="./hour-two/cra-project-view.png" />

open app.js
---

```javascript
import React from 'react';
import logo from './logo.svg';
import './App.css';

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>
          Edit <code>src/App.js</code> and save to reload.
        </p>
        <a
          className="App-link"
          href="https://reactjs.org"
          target="_blank"
          rel="noopener noreferrer"
        >
          Learn React
        </a>
      </header>
    </div>
  );
}

export default App;
----
* > Lets clean out the app so we can write our todo list code here
2:3 > Remove lines 2-3
```

---

```javascript
import React from 'react';

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>
          Edit <code>src/App.js</code> and save to reload.
        </p>
        <a
          className="App-link"
          href="https://reactjs.org"
          target="_blank"
          rel="noopener noreferrer"
        >
          Learn React
        </a>
      </header>
    </div>
  );
}

export default App;
----
* > Remove lines 2-3
5:20 > Replace line 5-20 with <><p>test</p><>
```
---

```javascript
import React from 'react';

function App() {
  return (
    <>
      <p>test</p>
    </>
  );
}

export default App;
----
* > Your code will look like this
1 > Always import react when using jsx
3 > Prefer stateless functional components over class components
5,7 > An empty tag is a "fragment" a container component that renders nothing to the DOM
6 > We'll render this just to know our app is working
```
---

# Component Libraries

- Default HTML Elements look bad
  <img src="./hour-two/ButtonCompare.png" width="400" />
- Great looking components
- Features HTML doesn't have
- Components HTML doesn't have

---

# Material UI

- Check out [Material UI](https://material-ui.com/)
- React component library based on [Material Design](https://material.io/design/)
- Install Material UI Core Components and Icons
  - `npm install @material-ui/core`
  - `npm install @material-ui/icons`

---

# Material Components for Todo List

- List, ListItem, etc (<a href="https://material-ui.com/components/lists/" target="_blank">Examples</a> | <a href="https://material-ui.com/components/lists/#api" target="_blank">Docs</a>)
- Button, IconButton (<a href="https://material-ui.com/components/buttons/" target="_blank">Examples</a> | <a href="https://material-ui.com/components/buttons/#api" target="_blank">Docs</a>)
- TextField (<a href="https://material-ui.com/components/text-fields/" target="_blank">Examples</a> | <a href="https://material-ui.com/components/text-fields/#api" target="_blank">Docs</a>)
- DeleteIcon (<a href="https://material-ui.com/components/icons/" target="_blank">Examples</a> | <a href="https://material-ui.com/components/icons/#api" target="_blank">Docs</a>)
- Grid (<a href="https://material-ui.com/components/grid/" target="_blank">Examples</a> | <a href="https://material-ui.com/components/grid/#api" target="_blank">Docs</a>)

---

# Component API

<img src="./hour-two/MaterialAPI.png" />

---

```javascript
import React from 'react';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';

function App() {
  return (
    <>
      <p>test</p>
    </>
  );
}

export default App;
----
* > Let's start by adding some todos to our page
2:4 > Import List, ListItem, and ListItemText from material-ui
9 > Replace our placeholder test code with a List of todos
```

---

```javascript
import React from 'react';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';

function App() {
  return (
    <>
      <List>
        <ListItem>
          <ListItemText primary="Todo1" />
        </ListItem>
        <ListItem>
          <ListItemText primary="Todo2" />
        </ListItem>
      </List>
    </>
  );
}

export default App;
----
9:16 > We've added a static list with 2 todo items
9:16 > This is good but we need a way to render todos from data...
```
---

# About React Hooks and State

- React Hooks are functions that hook extra behavior into our components
- The <a href="https://reactjs.org/docs/hooks-state.html" target="_blank">useState</a> hook lets our component remember things between renders
- Let's add state to our todo list

---

```javascript
import React, { useState } from 'react';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';

function App() {
  const [todos, setTodos] = useState(['test1', 'test2']);

  return (
    <>
      <List>
        {todos.map((todo, index) => (
          <ListItem key={index}>
            <ListItemText primary={todo} />
          </ListItem>
        ))}
      </List>
    </>
  );
}

export default App;
----
1 > We need to import "useState" from react like this
7 > This line adds state to our component
7[4] > "todos" is our state, an array of todo items, stored as strings
7[6] > "setTodos" is a function to set the state to a new value
7[13:18] > "['test1', 'test2']" is the initial value of the todos state
12:16 > We'll loop through all the todos in our state and render a ListItem for each one
12 > .map is used to convert each item in the todo state to a react element
```

---

# Adding new todos

- Our todos are part of state but our users can't manipulate them
- Lets add controls for adding new todos to our state
- A React "Ref" is used to access the HTML element rendered by react, we use this to read the value a user enters into a text field

---

```javascript
import React, { useState, useRef } from 'react';
import TextField from '@material-ui/core/TextField';
import Button from '@material-ui/core/Button';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';

function App() {
  const textFieldRef = useRef(null);
  const [todos, setTodos] = useState(['test1', 'test2']);

  // add new todo to state and clear the input
  function handleAddClick() {
    const newTodo = textFieldRef.current.value;
    if(newTodo.length > 0) {
      setTodos([...todos, newTodo]);
      textFieldRef.current.value = '';
    }
  };

  return (
    <>
      <TextField inputRef={textFieldRef} placeholder="new todo" />
      <Button variant="contained" color="primary" onClick={handleAddClick}>Add</Button>
      <List>
        {todos.map((todo, index) => (
          <ListItem key={index}>
            <ListItemText primary={todo} />
          </ListItem>
        ))}
      </List>
    </>
  );
}

export default App;
----
1 > Import useRef from react
2:3 > Import TextField and Button from material-ui
9 > create a ref with useRef. We'll use the ref to get the value of the TextField
12:19 > Create a function to be called when the add button is clicked
14[4:8] > TextFieldRef.current.value will get the current value of our text field
15 > We don't actually update the state if there's no text in the text field
16 > Use "setTodos" to set the todo state. We create a new array that includes the new todo
17 > Clear the text field of its current value
23:24 > Finally we add our TextField and Button
23[3:7] > Setting the inputRef to textFieldRef allows us to access the text field value
23[8:10] > Placeholder text is displayed when our text field is empty
24[3:8] > Setting "variant" and "color" make the button appear solid
24[9:13] > Here we make sure the handleAddClick function is executed when our button is clicked
```

---

# Removing todos

- Lets add a trash button for removing todos 
- Being able to remove todos is useful for marking things completed

---

```javascript
import React, { useState, useRef } from 'react';
import TextField from '@material-ui/core/TextField';
import Button from '@material-ui/core/Button';
import IconButton from '@material-ui/core/IconButton';
import DeleteIcon from '@material-ui/icons/Delete';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';
import ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';

function App() {
  const textFieldRef = useRef(null);
  const [todos, setTodos] = useState(['test1', 'test2']);

  // add new todo to state and clear the input
  function handleAddClick() {
    const newTodo = textFieldRef.current.value;
    if(newTodo.length > 0) {
      setTodos([...todos, newTodo]);
      textFieldRef.current.value = '';
    }
  };

  // update state with deleted todo filtered out
  function handleDeleteClick(index) {
    setTodos(oldTodos => oldTodos.filter((e, i) => i !== index));
  }

  return (
    <>
      <TextField inputRef={textFieldRef} placeholder="new todo" />
      <Button variant="contained" color="primary" onClick={handleAddClick}>Add</Button>
      <List>
        {todos.map((todo, index) => (
          <ListItem key={index}>
            <ListItemText primary={todo} />
            <ListItemSecondaryAction>
              <IconButton onClick={() => handleDeleteClick(index)}>
                <DeleteIcon />
              </IconButton>
            </ListItemSecondaryAction>
          </ListItem>
        ))}
      </List>
    </>
  );
}

export default App;
----
4:5 > Import IconButton and DeleteIcon
9 > Import ListItemSecondaryAction
24:27 > Create a function to remove todo when delete button is clicked
37:41 > Add a ListItemSecondaryAction using the IconButton
```

---

# Responsive Layout

- Let's add a responsive Layout
- We'll use Material-UIs Grid component to make things look much better

---

```javascript
import React, { useState, useRef } from 'react';
import TextField from '@material-ui/core/TextField';
import Button from '@material-ui/core/Button';
import IconButton from '@material-ui/core/IconButton';
import DeleteIcon from '@material-ui/icons/Delete';
import Grid from '@material-ui/core/Grid';
import Typography from '@material-ui/core/Typography';
import List from '@material-ui/core/List';
import ListItem from '@material-ui/core/ListItem';
import ListItemText from '@material-ui/core/ListItemText';
import ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';

function App() {
  const textFieldRef = useRef(null);
  const [todos, setTodos] = useState(['test1', 'test2']);

  // add new todo to state and clear the input
  function handleAddClick() {
    const newTodo = textFieldRef.current.value;
    if(newTodo.length > 0) {
      setTodos([...todos, newTodo]);
      textFieldRef.current.value = '';
    }
  };

  // update state with deleted todo filtered out
  function handleDeleteClick(index) {
    setTodos(oldTodos => oldTodos.filter((e, i) => i !== index));
  }

  return (
    <>
      <Grid container justify="center">
        <Grid item xs={6} md={2}>
          <Typography variant="h3" gutterBottom>Todo List</Typography>
        </Grid>
      </Grid>
      <Grid container justify="center" spacing={3}>
        <Grid item xs={9} md={5}>
          <TextField inputRef={textFieldRef} placeholder="new todo" fullWidth />
        </Grid>
        <Grid item xs={2} md={1}>
          <Button variant="contained" color="primary" onClick={handleAddClick}>Add</Button>
        </Grid>
      </Grid>
      <Grid container justify="center">
        <Grid item xs={12} md={6}>
          <List>
            {todos.map((todo, index) => (
              <ListItem key={index}>
                <ListItemText primary={todo} />
                <ListItemSecondaryAction>
                  <IconButton onClick={() => handleDeleteClick(index)}>
                    <DeleteIcon />
                  </IconButton>
                </ListItemSecondaryAction>
              </ListItem>
            ))}
          </List>
        </Grid>
      </Grid>
    </>
  );
}

export default App;
----
6:7 > Import Grid and Typography
33:37 > Add a cenetered header
33 > Use a container grid to center all content in a grid
34 > Use an item grid for all grid content
34 > Set sizes at different breakpoints using xs and md
35 > Typography will create text elements in material ui style
38:39, 41:42, 44:45 > We want the textfield and button side by side so we'll put them in the same container grid
46:47, 60:61 > Wrap the List with a centered grid, xs={12} and md={6}
```
---
export default Invert

## Desktop
<img src="./hour-two/ResponsiveFull.png" />

---
export default Invert

## Phone
<img src="./hour-two/ResponsiveSmall.png" />

---

# Take your app further

- Refactoring
  - Make TodoItem its own component
- Ability to edit todos
- Saving todos to a local storage
  - save on add, remove, edit
- Syncing todos to backend
  - Trigger backend sync after any change to local storage
  - Use mocks to develop without a real backend
- Write unit tests
  - Start [here](https://reactjs.org/docs/testing.html)

---

# Thank you!

---
